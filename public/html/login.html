<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>弹出登录框</title>
    <link rel="stylesheet" href="../css/login.css">
<body>
<div class="login-header"><a id="link" href="javascript:void(0);">点击，弹出登录框</a></div>
<div id="login1" class="login" >
    <div id="title" class="login-title"><h1>Log in</h1>
        <span><a id="closeBtn" href="javascript:void(0);" class="close-login">关闭</a></span>
    </div>
    <div class="login-input-content">
        <div class="login-input">
            <label>Username：</label>
            <input type="text" placeholder="Username..." name="info[username]" id="username" class="list-input">
        </div>
        <div class="login-input">
            <label>Password：</label>
            <input type="password" placeholder="Password..." name="info[password]" id="password" class="list-input">
        </div>
    </div>
    <div id="loginBtn" class="login-button"><a href="javascript:void(0);" id="login-button-submit"><span>Log in</span></a></div>
</div>
<!-- 遮盖层 -->
<div id="bg" class="login-bg" ></div> 
<script>
  // 显示登录框和遮盖层
  var login = document.getElementById('login1');
  var bg = document.getElementById('bg');
  //1 点击按钮，弹出登录框和遮盖层
  var link = document.getElementById('link');
  link.onclick = function () {
    login.style.display = 'block';
     bg.style.display = 'block';
    return false;
  }

  // 2 点击关闭按钮，隐藏 登录框和遮盖层
  var closeBtn = document.getElementById('closeBtn');
  closeBtn.onclick = function () {
    // 隐藏 登录框和遮盖层
    login.style.display = 'none';
    bg.style.display = 'none';
  }

  // 3 拖拽
  var title = document.getElementById('title');
  title.onmousedown = function (e) {
    // 鼠标按下，求鼠标在盒子中的位置
    var x = e.pageX - login.offsetLeft;
    var y = e.pageY - login.offsetTop;

    document.onmousemove = function (e) {
      // 鼠标移动的时候， 盒子的坐标
      var loginX = e.pageX - x;
      var loginY = e.pageY - y;

      login.style.left = loginX + 256 + 'px';
      login.style.top = loginY - 140 + 'px';
    }
  }

  document.onmouseup = function () {
    // 移除鼠标移动的事件
    document.onmousemove = null;
  }
</script>
</body>
</html>

